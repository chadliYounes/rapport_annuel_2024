"use strict";!function(e){e.Class.TemplateManager.addComponent("menuSummaryAsideV2",function(t){function n(t){var n=t.currentTarget,r=n.querySelector(".menu-subitems-v2"),i=n.getAttribute("data-page"),l=n.querySelector(".menu-item-text-v2").innerText;if(r){var v=Array.from(r.children);v&&v.length>0&&(c++,d.push({level:c-1,title:l}),a(r.innerHTML,l))}else i&&(e.Main.trackerManager.trackEvent({name:"chapter",variables:{1:l}}),e.API.pageLoad({number:i}),e.Main.menuManager.hideMenu())}function a(t,a){var v=document.createElement("div");v.classList.add("menu-level-v2"),v.setAttribute("data-level",c.toString());var u=document.createElement("div");if(u.classList.add("menu-nav-links-v2"),c>=2){var m=document.createElement("div");m.classList.add("menu-nav-link-1-container-v2"),u.appendChild(m);var o=document.createElement("div");o.classList.add("menu-nav-link-1-v2"),o.innerText=e.Main.xmlManager.get("locale","back_to_contents"),m.addEventListener(e.Param.eventClick,function(){r(1)});var s=document.createRange().createContextualFragment(i().trim());if(m.appendChild(s),m.appendChild(o),c>=3){var p=document.createElement("div");p.classList.add("menu-nav-link-2-v2"),p.innerText=d[d.length-1].title,p.addEventListener(e.Param.eventClick,function(){r(c-1)}),u.appendChild(p)}}v.appendChild(u);var f=document.createElement("div");f.innerHTML=t,v.appendChild(f),l.appendChild(v),l.style.transform="translateX(-"+100*(c-1)+"%)";var h=v.querySelectorAll(".menu-item-v2");h.forEach(function(t){t.addEventListener(e.Param.eventClick,n)})}function r(e){for(;c>e;){var t=l.querySelector('.menu-level-v2[data-level="'+c+'"]');t&&l.removeChild(t),c--,d.pop()}l.style.transform="translateX(-"+100*(c-1)+"%)"}function i(){return'\n\t\t\t\t\t<svg data-icon="arrow">\n\t\t\t\t\t\t\t<use xlink:href="#svgicon-arrow"></use>\n\t\t\t\t\t</svg>\n\t\t\t'}var l=this.querySelector(".menu-container-v2"),c=1,d=[],v=this.querySelectorAll('.menu-level-v2[data-level="1"] .menu-item-v2');v.forEach(function(t){t.addEventListener(e.Param.eventClick,n)})})}(webpublicationNamespace);