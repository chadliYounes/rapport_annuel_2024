"use strict";!function(w){function handleLegacyFormat(t,e){var a=t.data.xmlString;a=a.replace("<element","<div").replace("</element>","</div>");var n=document.createElement("div");t.data.attributes.style&&(n.style.cssText+=";"+t.data.attributes.style),n.classList.add("menu-item--custom-contents"),n.innerHTML=w.Utils.resolveVariable(a),e.appendChild(n),handleTooltip(e)}function handleTooltip(t){w.Param.isDesktop&&t.hasAttribute("data-tooltip")===!0&&w.Main.tooltipManager.register(t)}function getClickAction(t){switch(t.type){case actionType.DYNAMIC_CONTACT:return getDynamicContactClick();case actionType.GO_TO_PAGE:return getGoToPageClick(t.param,t.target);case actionType.URL:case actionType.DRIVE_ASSET:return getOpenClick(t.param,t.target);case actionType.JAVACRIPT:return getJavascriptClick(t.param);default:return function(){}}}function getDynamicContactClick(){var t=w.Main.xmlManager.getVariable("id");return function(){return NIApi.lightbox.openPopup(null,{param:"./publication/../../"+t+"_contacts",height:"300",width:"550",theme:"MODALE",appearance:{customizationEnable:!0,customizationUrl:null,style:"MODALE",width:"550",height:"300",backgroundColor:"#f7f7f7",backgroundOpacity:"100",barBackgroundColor:"#f7f7f7",barBackgroundOpacity:"100%",xButtonColor:"#000000",xButtonColorOpacity:"100%"}}),!1}}function getGoToPageClick(t){return function(){return NIApi.page.open(t),!1}}function getWebpublicationActionType(t){switch(t){case actionTarget.POPUP:return"popup";case actionTarget.SAME_TAB:return"openSameTab";case actionTarget.NEW_TAB:default:return"openNewTab"}}function getOpenClick(t,e){return function(){return document.dispatchEvent(new CustomEvent("WebPublicationAction",{detail:{type:getWebpublicationActionType(e),params:{param:t}}})),!1}}function getJavascriptClick(javascript){return function(){try{eval(javascript)}catch(error){}return!1}}function handleNewFomat(t,e){e.addEventListener("click",getClickAction(t.data.attributes)),handleTooltip(e)}var actionTarget={SAME_TAB:"openSameTab",NEW_TAB:"openNewTab",POPUP:"popup"},actionType={DYNAMIC_CONTACT:"dynamicContact",GO_TO_PAGE:"goToPage",URL:"url",DRIVE_ASSET:"driveAsset",JAVACRIPT:"javascript"};w.Class.TemplateManager.addComponent("menuItem-custom",function(t){return t.data.attributes.type?void handleNewFomat(t,this):void handleLegacyFormat(t,this)})}(webpublicationNamespace);